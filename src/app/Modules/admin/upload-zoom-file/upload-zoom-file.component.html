<div class="srow load_circles_transbg" *ngIf="loader">
    <div class="load_circles">
        <mat-spinner></mat-spinner>
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <div class="srow clrleft card_details dashb_info">
            <h1 class="admin_heading_h1">Upload Zoom File</h1>
            <div class="srow clrleft dashboard-details">
                <div class="row">
                    <div class="col-lg-12">
                        <form [formGroup]="UploadZoomForm">
                            <div class="row">
                                
                                <div class="col-md-3 mb-3">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Quiz Id</mat-label>
                                        <input type="text" matInput formControlName="QuizId"
                                            placeholder="Enter valid Quiz Id" maxlength="4">
                                        <mat-error>Please Enter Quiz Id</mat-error>
                                    </mat-form-field>
                                </div>

                                <div class="col-md-3 mb-3">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Batch Id</mat-label>
                                        <input type="text" matInput formControlName="BatchId"
                                            placeholder="Enter valid Batch Id" maxlength="4">
                                        <mat-error>Please Enter Batch Id</mat-error>
                                    </mat-form-field>
                                </div>

                                <div class="col-md-3 mb-3">
                                    <mat-form-field appearance="outline">

                                        <mat-label>Practice Date</mat-label>

                                        <input matInput [matDatepicker]="picker" formControlName="PracticeDate"
                                            placeholder="yyyy/mm/dd" required>

                                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                        <mat-datepicker #picker></mat-datepicker>

                                    </mat-form-field>
                                </div>

                                <div class="col-md-3 mb-3">
                                    <div class="input-files">
                                        <input type="file" class="form-control" (change)="selectAudio($event)"
                                            accept="audio/*" multiple>
                                    </div>
                                </div>


                            </div>

                            <div class="row">
                                <div class="col-md-3 mb-3">
                                    <mat-form-field appearance="outline">
                                        <mat-label>To trim in second</mat-label>
                                        <input type="text" matInput formControlName="toTrimInSecond"
                                            placeholder="Enter valid Batch Id" maxlength="2">
                                        <mat-error>Please Enter to trim in second</mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-1 mt-2">
                                    <button mat-raised-button color="primary" class="btn_full mtres-10"
                                        (click)="Upload()">Upload</button>
                                </div>
                            </div>

                        </form>

                        <div id="table_scroll" #TABLE *ngIf="table">
                            <div class="table-responsive">
                                <table mat-table #table [dataSource]="dataSource" class="mat-elevation-z8"
                                    id="data_table">

                                    <ng-container matColumnDef="practicesno">
                                        <th mat-header-cell *matHeaderCellDef>Practice S.No.</th>
                                        <td mat-cell *matCellDef="let row">{{row.practicesno}}</td>
                                    </ng-container>

                                    <ng-container matColumnDef="studentid">
                                        <th mat-header-cell *matHeaderCellDef>Student Id</th>
                                        <td mat-cell *matCellDef="let row">{{row.studentid}}</td>
                                    </ng-container>

                                    <ng-container matColumnDef="filename">
                                        <th mat-header-cell *matHeaderCellDef>File Name</th>
                                        <td mat-cell *matCellDef="let row">{{row.audiofilepath}}</td>
                                    </ng-container>

                                    <ng-container matColumnDef="practicedate">
                                        <th mat-header-cell *matHeaderCellDef>Practice Date</th>
                                        <td mat-cell *matCellDef="let row">{{ row.practicedate | date: 'dd-MM-yyyy'}}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="download">
                                        <th mat-header-cell *matHeaderCellDef>Download</th>
                                        <td mat-cell *matCellDef="let row"><button mat-mini-fab color="primary" (click)="DownloadFile(row.url+row.audiofilepath)">
                                                <mat-icon> cloud_download </mat-icon>
                                            </button>
                                        </td>
                                    </ng-container>

                                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                                    <!-- <tr class="mat-row" *matNoDataRow>
                                        <td class="mat-cell" colspan="5">No data matching the filter "{{input.value}}"</td>
                                    </tr> -->
                                </table>
                            </div>
                            <mat-paginator [pageSizeOptions]="[10, 20, 30]" id="paginator"></mat-paginator>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>